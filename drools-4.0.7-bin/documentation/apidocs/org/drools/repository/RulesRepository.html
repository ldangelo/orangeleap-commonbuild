<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_11) on Wed May 07 17:35:01 BRT 2008 -->
<TITLE>
RulesRepository
</TITLE>

<META NAME="keywords" CONTENT="org.drools.repository.RulesRepository class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="RulesRepository";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/drools/repository/RepositorySessionUtil.html" title="class in org.drools.repository"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/drools/repository/RulesRepositoryAdministrator.html" title="class in org.drools.repository"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/drools/repository/RulesRepository.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="RulesRepository.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.drools.repository</FONT>
<BR>
Class RulesRepository</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>org.drools.repository.RulesRepository</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>RulesRepository</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
RulesRepository is the class that defines the bahavior for the JBoss Rules
 (drools) rule repository based upon the JCR specification (JSR-170).
 <p>
 An instance of this class is capable of storing rules used by the JBoss Rule
 engine. It also provides a versioning capability for rules. Rules can be
 imported from specified files. The RulesRepository is also capable of storing
 DSL content. Rules can be explicitly tied to a particular DSL node within the
 repository, and this reference can either follow the head version, or a
 specific version of the DSL node.
 <p>
 Rules can be tagged. Tags are stored in a separate area of the repository,
 and can be added on demand. Rules can have 0 or more tags. Tags are intended
 to help provide a means for searching for specific types of rules quickly,
 even when they aren't all part of the same rulepackage.
 <p>
 Rules can be associated with 0 or 1 states. States are created in a seperate
 area of the repository. States are intended to help track the progress of a
 rule as it traverses its life- cycle. (e.g. draft, approved, deprecated,
 etc.)
 <p>
 The RulesRepository provides versioning of rules, rule packages, and DSLs.
 This versioning works in a strictly linear fashion, with one version having
 at most 1 predecessor version (or none, if it is the first version), and at
 most 1 successor version (or none, if it is the most recently checked-in
 version). The JCR specification supports a more complicated versioning
 system, and if there is sufficient demand, we can modify our versioning
 scheme to be better aligned with JCR's versioning abilities.
<P>

<P>
<DL>
<map name="umlmap"><area shape="rect" coords="599,496,665,515" href="../../../org/drools/repository/StateItem.html"><area shape="rect" coords="599,458,687,477" href="../../../org/drools/repository/PackageItem.html"><area shape="rect" coords="599,420,692,439" href="../../../org/drools/repository/CategoryItem.html"><area shape="rect" coords="599,382,717,401" href="../../../org/drools/repository/AssetItemIterator.html"><area shape="rect" coords="599,344,668,362" href="../../../org/drools/repository/AssetItem.html"><area shape="rect" coords="292,177,424,199" href="#"><area shape="rect" coords="190,208,358,225" href="#DEFAULT_PACKAGE"><area shape="rect" coords="190,228,318,246" href="#DROOLS_URI"><area shape="rect" coords="190,249,404,266" href="#PACKAGE_SNAPSHOT_AREA"><area shape="rect" coords="190,269,371,287" href="#RULE_PACKAGE_AREA"><area shape="rect" coords="190,290,397,307" href="#RULES_REPOSITORY_NAME"><area shape="rect" coords="190,310,320,328" href="#STATE_AREA"><area shape="rect" coords="190,330,308,348" href="#TAG_AREA"><area shape="rect" coords="190,357,343,374" href="#RulesRepository(javax.jcr.Session)"><area shape="rect" coords="190,383,447,400" href="#addNodeIfNew(javax.jcr.Node, java.lang.String, java.lang.String)"><area shape="rect" coords="190,403,393,421" href="#containsPackage(java.lang.String)"><area shape="rect" coords="190,424,421,441" href="#copyAsset(java.lang.String, java.lang.String, java.lang.String)"><area shape="rect" coords="190,444,391,462" href="#copyPackage(java.lang.String, java.lang.String)"><area shape="rect" coords="190,465,481,482" href="#copyPackageSnapshot(java.lang.String, java.lang.String, java.lang.String)"><area shape="rect" coords="190,485,447,502" href="#createPackage(java.lang.String, java.lang.String)"><area shape="rect" coords="190,505,450,523" href="#createPackageSnapshot(java.lang.String, java.lang.String)"><area shape="rect" coords="190,526,370,543" href="#createState(java.lang.String)"><area shape="rect" coords="190,546,370,564" href="#dumpRepositoryXml()"><area shape="rect" coords="190,567,383,584" href="#exportRulesRepository()"><area shape="rect" coords="190,587,426,605" href="#findArchivedAssets()"><area shape="rect" coords="190,607,394,625" href="#findAssetsByCategory(java.lang.String)"><area shape="rect" coords="190,628,446,645" href="#findAssetsByCategory(java.lang.String, boolean)"><area shape="rect" coords="190,648,454,666" href="#findAssetsByName(java.lang.String)"><area shape="rect" coords="190,669,507,686" href="#findAssetsByName(java.lang.String, boolean)"><area shape="rect" coords="190,689,324,707" href="#getSession()"><area shape="rect" coords="190,710,352,727" href="#getState(java.lang.String)"><area shape="rect" coords="190,730,407,747" href="#importRulesRepository(byte[])"><area shape="rect" coords="190,750,333,768" href="#listPackages()"><area shape="rect" coords="190,771,413,788" href="#listPackageSnapshots(java.lang.String)"><area shape="rect" coords="190,791,333,809" href="#listStates()"><area shape="rect" coords="190,812,405,829" href="#loadAssetByUUID(java.lang.String)"><area shape="rect" coords="190,832,404,849" href="#loadCategory(java.lang.String)"><area shape="rect" coords="190,852,407,870" href="#loadDefaultPackage()"><area shape="rect" coords="190,873,398,890" href="#loadPackage(java.lang.String)"><area shape="rect" coords="190,893,438,911" href="#loadPackageByUUID(java.lang.String)"><area shape="rect" coords="190,914,487,931" href="#loadPackageSnapshot(java.lang.String, java.lang.String)"><area shape="rect" coords="190,934,282,952" href="#logout()"><area shape="rect" coords="190,954,482,972" href="#moveRuleItemPackage(java.lang.String, java.lang.String, java.lang.String)"><area shape="rect" coords="190,975,457,992" href="#removePackageSnapshot(java.lang.String, java.lang.String)"><area shape="rect" coords="190,995,399,1013" href="#renameAsset(java.lang.String, java.lang.String)"><area shape="rect" coords="190,1016,415,1033" href="#renamePackage(java.lang.String, java.lang.String)"><area shape="rect" coords="190,1036,525,1054" href="#restoreHistoricalAsset(org.drools.repository.AssetItem, org.drools.repository.AssetItem, java.lang.String)"><area shape="rect" coords="190,1057,273,1074" href="#save()"><area shape="rect" coords="183,142,304,160" href="package-summary.html"><area shape="rect" coords="592,310,713,327" href="../../../org/drools/repository/package-summary.html"></map>
<DT>&nbsp;</DT><DD><CENTER><IMG SRC="RulesRepository.png" WIDTH="741" HEIGHT="1113" USEMAP="#umlmap" BORDER="0"></CENTER></DD>
<!-- generated by yDoc 2.2_04   http://www.yworks.com/products/ydoc/   b0ad8294d223d3bf9e2df057e4e9eca114bb508652a7a05... -->
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#DEFAULT_PACKAGE">DEFAULT_PACKAGE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#DROOLS_URI">DROOLS_URI</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#PACKAGE_SNAPSHOT_AREA">PACKAGE_SNAPSHOT_AREA</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The name of the rulepackage area of the repository</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#RULE_PACKAGE_AREA">RULE_PACKAGE_AREA</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The name of the rulepackage area of the repository</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#RULES_REPOSITORY_NAME">RULES_REPOSITORY_NAME</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The name of the rules repository within the JCR repository</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#STATE_AREA">STATE_AREA</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The name of the state area of the repository</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#TAG_AREA">TAG_AREA</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The name of the tag area of the repository</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#RulesRepository(javax.jcr.Session)">RulesRepository</A></B>(javax.jcr.Session&nbsp;session)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This requires a JCR session be setup, and the repository be configured.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;javax.jcr.Node</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#addNodeIfNew(javax.jcr.Node, java.lang.String, java.lang.String)">addNodeIfNew</A></B>(javax.jcr.Node&nbsp;parent,
             java.lang.String&nbsp;nodeName,
             java.lang.String&nbsp;type)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Will add a node named 'nodeName' of type 'type' to 'parent' if such a
 node does not already exist.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#containsPackage(java.lang.String)">containsPackage</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This returns true if the repository contains the specified package name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#copyAsset(java.lang.String, java.lang.String, java.lang.String)">copyAsset</A></B>(java.lang.String&nbsp;uuidSource,
          java.lang.String&nbsp;destinationPackage,
          java.lang.String&nbsp;destinationName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This will copy an assets content to the new location.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#copyPackage(java.lang.String, java.lang.String)">copyPackage</A></B>(java.lang.String&nbsp;sourcePackageName,
            java.lang.String&nbsp;destPackageName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copy a package to the target name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#copyPackageSnapshot(java.lang.String, java.lang.String, java.lang.String)">copyPackageSnapshot</A></B>(java.lang.String&nbsp;packageName,
                    java.lang.String&nbsp;snapshotName,
                    java.lang.String&nbsp;newName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copies a snapshot to the new location/label.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/drools/repository/PackageItem.html" title="class in org.drools.repository">PackageItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#createPackage(java.lang.String, java.lang.String)">createPackage</A></B>(java.lang.String&nbsp;name,
              java.lang.String&nbsp;description)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a package to the repository.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#createPackageSnapshot(java.lang.String, java.lang.String)">createPackageSnapshot</A></B>(java.lang.String&nbsp;packageName,
                      java.lang.String&nbsp;snapshotName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This will copy the package to the snapshot area.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/drools/repository/StateItem.html" title="class in org.drools.repository">StateItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#createState(java.lang.String)">createState</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a status node of the given name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#dumpRepositoryXml()">dumpRepositoryXml</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#exportRulesRepository()">exportRulesRepository</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TODO: comment</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/drools/repository/AssetItemIterator.html" title="class in org.drools.repository">AssetItemIterator</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#findArchivedAssets()">findArchivedAssets</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#findAssetsByCategory(java.lang.String)">findAssetsByCategory</A></B>(java.lang.String&nbsp;categoryTag)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TODO: Comment</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#findAssetsByCategory(java.lang.String, boolean)">findAssetsByCategory</A></B>(java.lang.String&nbsp;categoryTag,
                     boolean&nbsp;seekArchivedAsset)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This will retrieve a list of RuleItem objects - that are allocated to the
 provided category.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/drools/repository/AssetItemIterator.html" title="class in org.drools.repository">AssetItemIterator</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#findAssetsByName(java.lang.String)">findAssetsByName</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/drools/repository/AssetItemIterator.html" title="class in org.drools.repository">AssetItemIterator</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#findAssetsByName(java.lang.String, boolean)">findAssetsByName</A></B>(java.lang.String&nbsp;name,
                 boolean&nbsp;seekArchived)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This will search assets, looking for matches against the name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;javax.jcr.Session</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#getSession()">getSession</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/drools/repository/StateItem.html" title="class in org.drools.repository">StateItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#getState(java.lang.String)">getState</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets a StateItem for the specified state name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#importRulesRepository(byte[])">importRulesRepository</A></B>(byte[]&nbsp;byteArray)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Iterator</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#listPackages()">listPackages</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#listPackageSnapshots(java.lang.String)">listPackageSnapshots</A></B>(java.lang.String&nbsp;packageName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return a list of the snapshots available for the given package name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/drools/repository/StateItem.html" title="class in org.drools.repository">StateItem</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#listStates()">listStates</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/drools/repository/AssetItem.html" title="class in org.drools.repository">AssetItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#loadAssetByUUID(java.lang.String)">loadAssetByUUID</A></B>(java.lang.String&nbsp;uuid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Loads a rule by its UUID (generally the fastest way to load something).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/drools/repository/CategoryItem.html" title="class in org.drools.repository">CategoryItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#loadCategory(java.lang.String)">loadCategory</A></B>(java.lang.String&nbsp;tagName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This will return a category for the given category path.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/drools/repository/PackageItem.html" title="class in org.drools.repository">PackageItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#loadDefaultPackage()">loadDefaultPackage</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This will return or create the default package for rules that have no
 home yet.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/drools/repository/PackageItem.html" title="class in org.drools.repository">PackageItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#loadPackage(java.lang.String)">loadPackage</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Loads a RulePackage for the specified package name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/drools/repository/PackageItem.html" title="class in org.drools.repository">PackageItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#loadPackageByUUID(java.lang.String)">loadPackageByUUID</A></B>(java.lang.String&nbsp;uuid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Similar to above.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/drools/repository/PackageItem.html" title="class in org.drools.repository">PackageItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#loadPackageSnapshot(java.lang.String, java.lang.String)">loadPackageSnapshot</A></B>(java.lang.String&nbsp;packageName,
                    java.lang.String&nbsp;snapshotName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#logout()">logout</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Explicitly logout of the underlying JCR repository.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#moveRuleItemPackage(java.lang.String, java.lang.String, java.lang.String)">moveRuleItemPackage</A></B>(java.lang.String&nbsp;newPackage,
                    java.lang.String&nbsp;uuid,
                    java.lang.String&nbsp;explanation)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This moves a rule asset from one package to another, preserving history
 etc etc.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#removePackageSnapshot(java.lang.String, java.lang.String)">removePackageSnapshot</A></B>(java.lang.String&nbsp;packageName,
                      java.lang.String&nbsp;snapshotName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This will remove the specified snapshot.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#renameAsset(java.lang.String, java.lang.String)">renameAsset</A></B>(java.lang.String&nbsp;uuid,
            java.lang.String&nbsp;newAssetName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This will rename an assset and apply the change immediately.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#renamePackage(java.lang.String, java.lang.String)">renamePackage</A></B>(java.lang.String&nbsp;uuid,
              java.lang.String&nbsp;newPackageName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This will rename a package and apply the change immediately.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#restoreHistoricalAsset(org.drools.repository.AssetItem, org.drools.repository.AssetItem, java.lang.String)">restoreHistoricalAsset</A></B>(<A HREF="../../../org/drools/repository/AssetItem.html" title="class in org.drools.repository">AssetItem</A>&nbsp;versionToRestore,
                       <A HREF="../../../org/drools/repository/AssetItem.html" title="class in org.drools.repository">AssetItem</A>&nbsp;headVersion,
                       java.lang.String&nbsp;comment)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This will restore the historical version, save, and check it in as a new
 version with the given comment.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/drools/repository/RulesRepository.html#save()">save</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Save any pending changes.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="DEFAULT_PACKAGE"><!-- --></A><H3>
DEFAULT_PACKAGE</H3>
<PRE>
public static final java.lang.String <B>DEFAULT_PACKAGE</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#org.drools.repository.RulesRepository.DEFAULT_PACKAGE">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="DROOLS_URI"><!-- --></A><H3>
DROOLS_URI</H3>
<PRE>
public static final java.lang.String <B>DROOLS_URI</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#org.drools.repository.RulesRepository.DROOLS_URI">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="RULE_PACKAGE_AREA"><!-- --></A><H3>
RULE_PACKAGE_AREA</H3>
<PRE>
public static final java.lang.String <B>RULE_PACKAGE_AREA</B></PRE>
<DL>
<DD>The name of the rulepackage area of the repository
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#org.drools.repository.RulesRepository.RULE_PACKAGE_AREA">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="PACKAGE_SNAPSHOT_AREA"><!-- --></A><H3>
PACKAGE_SNAPSHOT_AREA</H3>
<PRE>
public static final java.lang.String <B>PACKAGE_SNAPSHOT_AREA</B></PRE>
<DL>
<DD>The name of the rulepackage area of the repository
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#org.drools.repository.RulesRepository.PACKAGE_SNAPSHOT_AREA">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="TAG_AREA"><!-- --></A><H3>
TAG_AREA</H3>
<PRE>
public static final java.lang.String <B>TAG_AREA</B></PRE>
<DL>
<DD>The name of the tag area of the repository
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#org.drools.repository.RulesRepository.TAG_AREA">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="STATE_AREA"><!-- --></A><H3>
STATE_AREA</H3>
<PRE>
public static final java.lang.String <B>STATE_AREA</B></PRE>
<DL>
<DD>The name of the state area of the repository
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#org.drools.repository.RulesRepository.STATE_AREA">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="RULES_REPOSITORY_NAME"><!-- --></A><H3>
RULES_REPOSITORY_NAME</H3>
<PRE>
public static final java.lang.String <B>RULES_REPOSITORY_NAME</B></PRE>
<DL>
<DD>The name of the rules repository within the JCR repository
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#org.drools.repository.RulesRepository.RULES_REPOSITORY_NAME">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="RulesRepository(javax.jcr.Session)"><!-- --></A><H3>
RulesRepository</H3>
<PRE>
public <B>RulesRepository</B>(javax.jcr.Session&nbsp;session)</PRE>
<DL>
<DD>This requires a JCR session be setup, and the repository be configured.
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="addNodeIfNew(javax.jcr.Node, java.lang.String, java.lang.String)"><!-- --></A><H3>
addNodeIfNew</H3>
<PRE>
protected static javax.jcr.Node <B>addNodeIfNew</B>(javax.jcr.Node&nbsp;parent,
                                             java.lang.String&nbsp;nodeName,
                                             java.lang.String&nbsp;type)
                                      throws <A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></PRE>
<DL>
<DD>Will add a node named 'nodeName' of type 'type' to 'parent' if such a
 node does not already exist.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></CODE><DT><B>Parameters:</B><DD><CODE>parent</CODE> - the parent node to add the new node to<DD><CODE>nodeName</CODE> - the name of the new node<DD><CODE>type</CODE> - the type of the new node
<DT><B>Returns:</B><DD>a reference to the Node object that is created by the addition,
         or, if the node already existed, a reference to the pre-existant
         node.</DL>
</DD>
</DL>
<HR>

<A NAME="logout()"><!-- --></A><H3>
logout</H3>
<PRE>
public void <B>logout</B>()</PRE>
<DL>
<DD>Explicitly logout of the underlying JCR repository.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="copyAsset(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
copyAsset</H3>
<PRE>
public java.lang.String <B>copyAsset</B>(java.lang.String&nbsp;uuidSource,
                                  java.lang.String&nbsp;destinationPackage,
                                  java.lang.String&nbsp;destinationName)</PRE>
<DL>
<DD>This will copy an assets content to the new location.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the UUID of the new asset.</DL>
</DD>
</DL>
<HR>

<A NAME="loadPackage(java.lang.String)"><!-- --></A><H3>
loadPackage</H3>
<PRE>
public <A HREF="../../../org/drools/repository/PackageItem.html" title="class in org.drools.repository">PackageItem</A> <B>loadPackage</B>(java.lang.String&nbsp;name)
                        throws <A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></PRE>
<DL>
<DD>Loads a RulePackage for the specified package name. Will throw an
 exception if the specified rule package does not exist.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></CODE><DT><B>Parameters:</B><DD><CODE>name</CODE> - the name of the package to load
<DT><B>Returns:</B><DD>a RulePackageItem object</DL>
</DD>
</DL>
<HR>

<A NAME="containsPackage(java.lang.String)"><!-- --></A><H3>
containsPackage</H3>
<PRE>
public boolean <B>containsPackage</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD>This returns true if the repository contains the specified package name.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="loadPackageSnapshot(java.lang.String, java.lang.String)"><!-- --></A><H3>
loadPackageSnapshot</H3>
<PRE>
public <A HREF="../../../org/drools/repository/PackageItem.html" title="class in org.drools.repository">PackageItem</A> <B>loadPackageSnapshot</B>(java.lang.String&nbsp;packageName,
                                       java.lang.String&nbsp;snapshotName)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="createPackageSnapshot(java.lang.String, java.lang.String)"><!-- --></A><H3>
createPackageSnapshot</H3>
<PRE>
public void <B>createPackageSnapshot</B>(java.lang.String&nbsp;packageName,
                                  java.lang.String&nbsp;snapshotName)</PRE>
<DL>
<DD>This will copy the package to the snapshot area. Creating a copy for
 deployment, etc.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="removePackageSnapshot(java.lang.String, java.lang.String)"><!-- --></A><H3>
removePackageSnapshot</H3>
<PRE>
public void <B>removePackageSnapshot</B>(java.lang.String&nbsp;packageName,
                                  java.lang.String&nbsp;snapshotName)</PRE>
<DL>
<DD>This will remove the specified snapshot.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="copyPackageSnapshot(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
copyPackageSnapshot</H3>
<PRE>
public void <B>copyPackageSnapshot</B>(java.lang.String&nbsp;packageName,
                                java.lang.String&nbsp;snapshotName,
                                java.lang.String&nbsp;newName)</PRE>
<DL>
<DD>Copies a snapshot to the new location/label.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>packageName</CODE> - The name of the package.<DD><CODE>snapshotName</CODE> - The label of the source snapshot<DD><CODE>newName</CODE> - The new label. The old one is left intact.</DL>
</DD>
</DL>
<HR>

<A NAME="loadDefaultPackage()"><!-- --></A><H3>
loadDefaultPackage</H3>
<PRE>
public <A HREF="../../../org/drools/repository/PackageItem.html" title="class in org.drools.repository">PackageItem</A> <B>loadDefaultPackage</B>()
                               throws <A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></PRE>
<DL>
<DD>This will return or create the default package for rules that have no
 home yet.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="loadPackageByUUID(java.lang.String)"><!-- --></A><H3>
loadPackageByUUID</H3>
<PRE>
public <A HREF="../../../org/drools/repository/PackageItem.html" title="class in org.drools.repository">PackageItem</A> <B>loadPackageByUUID</B>(java.lang.String&nbsp;uuid)
                              throws <A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></PRE>
<DL>
<DD>Similar to above. Loads a RulePackage for the specified uuid.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></CODE><DT><B>Parameters:</B><DD><CODE>uuid</CODE> - the uuid of the package to load
<DT><B>Returns:</B><DD>a RulePackageItem object</DL>
</DD>
</DL>
<HR>

<A NAME="restoreHistoricalAsset(org.drools.repository.AssetItem, org.drools.repository.AssetItem, java.lang.String)"><!-- --></A><H3>
restoreHistoricalAsset</H3>
<PRE>
public void <B>restoreHistoricalAsset</B>(<A HREF="../../../org/drools/repository/AssetItem.html" title="class in org.drools.repository">AssetItem</A>&nbsp;versionToRestore,
                                   <A HREF="../../../org/drools/repository/AssetItem.html" title="class in org.drools.repository">AssetItem</A>&nbsp;headVersion,
                                   java.lang.String&nbsp;comment)</PRE>
<DL>
<DD>This will restore the historical version, save, and check it in as a new
 version with the given comment.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>versionToRestore</CODE> - <DD><CODE>headVersion</CODE> - <DD><CODE>comment</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="loadAssetByUUID(java.lang.String)"><!-- --></A><H3>
loadAssetByUUID</H3>
<PRE>
public <A HREF="../../../org/drools/repository/AssetItem.html" title="class in org.drools.repository">AssetItem</A> <B>loadAssetByUUID</B>(java.lang.String&nbsp;uuid)</PRE>
<DL>
<DD>Loads a rule by its UUID (generally the fastest way to load something).
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="createPackage(java.lang.String, java.lang.String)"><!-- --></A><H3>
createPackage</H3>
<PRE>
public <A HREF="../../../org/drools/repository/PackageItem.html" title="class in org.drools.repository">PackageItem</A> <B>createPackage</B>(java.lang.String&nbsp;name,
                                 java.lang.String&nbsp;description)
                          throws <A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></PRE>
<DL>
<DD>Adds a package to the repository.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></CODE><DT><B>Parameters:</B><DD><CODE>name</CODE> - what to name the node added<DD><CODE>description</CODE> - what description to use for the node
<DT><B>Returns:</B><DD>a PackageItem, encapsulating the created node</DL>
</DD>
</DL>
<HR>

<A NAME="getState(java.lang.String)"><!-- --></A><H3>
getState</H3>
<PRE>
public <A HREF="../../../org/drools/repository/StateItem.html" title="class in org.drools.repository">StateItem</A> <B>getState</B>(java.lang.String&nbsp;name)
                   throws <A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></PRE>
<DL>
<DD>Gets a StateItem for the specified state name. If a node for the
 specified state does not yet exist, one is first created.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></CODE><DT><B>Parameters:</B><DD><CODE>name</CODE> - the name of the state to get
<DT><B>Returns:</B><DD>a StateItem object encapsulating the retreived node</DL>
</DD>
</DL>
<HR>

<A NAME="createState(java.lang.String)"><!-- --></A><H3>
createState</H3>
<PRE>
public <A HREF="../../../org/drools/repository/StateItem.html" title="class in org.drools.repository">StateItem</A> <B>createState</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD>Create a status node of the given name.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="loadCategory(java.lang.String)"><!-- --></A><H3>
loadCategory</H3>
<PRE>
public <A HREF="../../../org/drools/repository/CategoryItem.html" title="class in org.drools.repository">CategoryItem</A> <B>loadCategory</B>(java.lang.String&nbsp;tagName)
                          throws <A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></PRE>
<DL>
<DD>This will return a category for the given category path.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></CODE><DT><B>Parameters:</B><DD><CODE>tagName</CODE> - the name of the tag to get. If the tag to get is within a
            heirarchy of tag nodes, specify the full path to the tag node
            of interest (e.g. if you want to get back 'child-tag', use
            "parent-tag/child-tag")
<DT><B>Returns:</B><DD>a TagItem object encapsulating the node for the tag in the
         repository</DL>
</DD>
</DL>
<HR>

<A NAME="findAssetsByCategory(java.lang.String, boolean)"><!-- --></A><H3>
findAssetsByCategory</H3>
<PRE>
public java.util.List <B>findAssetsByCategory</B>(java.lang.String&nbsp;categoryTag,
                                           boolean&nbsp;seekArchivedAsset)
                                    throws <A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></PRE>
<DL>
<DD>This will retrieve a list of RuleItem objects - that are allocated to the
 provided category. Only the latest versions of each RuleItem will be
 returned (you will have to delve into the rules deepest darkest history
 yourself... mahahahaha).
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="findAssetsByCategory(java.lang.String)"><!-- --></A><H3>
findAssetsByCategory</H3>
<PRE>
public java.util.List <B>findAssetsByCategory</B>(java.lang.String&nbsp;categoryTag)
                                    throws <A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></PRE>
<DL>
<DD>TODO: Comment
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../org/drools/repository/RulesRepositoryException.html" title="class in org.drools.repository">RulesRepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="exportRulesRepository()"><!-- --></A><H3>
exportRulesRepository</H3>
<PRE>
public byte[] <B>exportRulesRepository</B>()
                             throws java.io.IOException,
                                    javax.jcr.PathNotFoundException,
                                    javax.jcr.RepositoryException</PRE>
<DL>
<DD>TODO: comment
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE>
<DD><CODE>javax.jcr.PathNotFoundException</CODE>
<DD><CODE>javax.jcr.RepositoryException</CODE>
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="dumpRepositoryXml()"><!-- --></A><H3>
dumpRepositoryXml</H3>
<PRE>
public byte[] <B>dumpRepositoryXml</B>()
                         throws javax.jcr.PathNotFoundException,
                                java.io.IOException,
                                javax.jcr.RepositoryException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>javax.jcr.PathNotFoundException</CODE>
<DD><CODE>java.io.IOException</CODE>
<DD><CODE>javax.jcr.RepositoryException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="importRulesRepository(byte[])"><!-- --></A><H3>
importRulesRepository</H3>
<PRE>
public void <B>importRulesRepository</B>(byte[]&nbsp;byteArray)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>byteArray</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="listPackages()"><!-- --></A><H3>
listPackages</H3>
<PRE>
public java.util.Iterator <B>listPackages</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>an Iterator which will provide RulePackageItem's. This will show
         ALL the packages, only returning latest versions, by default.</DL>
</DD>
</DL>
<HR>

<A NAME="getSession()"><!-- --></A><H3>
getSession</H3>
<PRE>
public javax.jcr.Session <B>getSession</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>The JCR session that this repository is using.</DL>
</DD>
</DL>
<HR>

<A NAME="save()"><!-- --></A><H3>
save</H3>
<PRE>
public void <B>save</B>()</PRE>
<DL>
<DD>Save any pending changes.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="moveRuleItemPackage(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
moveRuleItemPackage</H3>
<PRE>
public void <B>moveRuleItemPackage</B>(java.lang.String&nbsp;newPackage,
                                java.lang.String&nbsp;uuid,
                                java.lang.String&nbsp;explanation)</PRE>
<DL>
<DD>This moves a rule asset from one package to another, preserving history
 etc etc.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>newPackage</CODE> - The destination package.<DD><CODE>uuid</CODE> - The UUID of the rule<DD><CODE>explanation</CODE> - The reason (which will be added as the checkin message).</DL>
</DD>
</DL>
<HR>

<A NAME="renameAsset(java.lang.String, java.lang.String)"><!-- --></A><H3>
renameAsset</H3>
<PRE>
public java.lang.String <B>renameAsset</B>(java.lang.String&nbsp;uuid,
                                    java.lang.String&nbsp;newAssetName)</PRE>
<DL>
<DD>This will rename an assset and apply the change immediately.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the UUID of the new asset</DL>
</DD>
</DL>
<HR>

<A NAME="renamePackage(java.lang.String, java.lang.String)"><!-- --></A><H3>
renamePackage</H3>
<PRE>
public java.lang.String <B>renamePackage</B>(java.lang.String&nbsp;uuid,
                                      java.lang.String&nbsp;newPackageName)</PRE>
<DL>
<DD>This will rename a package and apply the change immediately.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the UUID of the package</DL>
</DD>
</DL>
<HR>

<A NAME="listPackageSnapshots(java.lang.String)"><!-- --></A><H3>
listPackageSnapshots</H3>
<PRE>
public java.lang.String[] <B>listPackageSnapshots</B>(java.lang.String&nbsp;packageName)</PRE>
<DL>
<DD>Return a list of the snapshots available for the given package name.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="findArchivedAssets()"><!-- --></A><H3>
findArchivedAssets</H3>
<PRE>
public <A HREF="../../../org/drools/repository/AssetItemIterator.html" title="class in org.drools.repository">AssetItemIterator</A> <B>findArchivedAssets</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="findAssetsByName(java.lang.String, boolean)"><!-- --></A><H3>
findAssetsByName</H3>
<PRE>
public <A HREF="../../../org/drools/repository/AssetItemIterator.html" title="class in org.drools.repository">AssetItemIterator</A> <B>findAssetsByName</B>(java.lang.String&nbsp;name,
                                          boolean&nbsp;seekArchived)</PRE>
<DL>
<DD>This will search assets, looking for matches against the name.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="findAssetsByName(java.lang.String)"><!-- --></A><H3>
findAssetsByName</H3>
<PRE>
public <A HREF="../../../org/drools/repository/AssetItemIterator.html" title="class in org.drools.repository">AssetItemIterator</A> <B>findAssetsByName</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="listStates()"><!-- --></A><H3>
listStates</H3>
<PRE>
public <A HREF="../../../org/drools/repository/StateItem.html" title="class in org.drools.repository">StateItem</A>[] <B>listStates</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>A list of statii in the system.</DL>
</DD>
</DL>
<HR>

<A NAME="copyPackage(java.lang.String, java.lang.String)"><!-- --></A><H3>
copyPackage</H3>
<PRE>
public void <B>copyPackage</B>(java.lang.String&nbsp;sourcePackageName,
                        java.lang.String&nbsp;destPackageName)</PRE>
<DL>
<DD>Copy a package to the target name.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/drools/repository/RepositorySessionUtil.html" title="class in org.drools.repository"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/drools/repository/RulesRepositoryAdministrator.html" title="class in org.drools.repository"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/drools/repository/RulesRepository.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="RulesRepository.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
